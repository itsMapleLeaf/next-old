@import 'flex'

// color definitions
$colors = {
  text: hsl(205, 30%, 90%)

  main: hsl(210, 50%, 30%)
  dark: hsl(211, 50%, 23%)
  light: lighten(hsl(210, 50%, 30%), 20%)

  red: rgb(231, 76, 60)
  blue: rgb(52, 152, 219)
  green: rgb(39, 174, 96)
}

// helpers
.ui-fullscreen
  position: absolute
  left: 0
  top: 0
  right: 0
  bottom: 0

.ui-scroll
  overflow-y: auto

.ui-no-select
  user-select: none

.ui-cursor-pointer
  cursor: pointer

// typography
.ui-font
  font: 14pt 'Roboto', sans-serif

.ui-text-color
  color: $colors.text

.ui-text
  @extend .ui-text-color, .ui-font

.ui-ellipsis
  overflow: hidden
  white-space: nowrap
  text-overflow: ellipsis

// color and highlight styles
.color-main { background-color: $colors.main }
.color-dark { background-color: $colors.dark }
.color-darker { background-color: darken($colors.dark, 25%) }
.color-light { background-color: $colors.light }
.color-lighter { background-color: lighten($colors.light, 20%) }

for $color-name in ('red' 'green' 'blue')
  $color = $colors[$color-name]
  .ui-highlight-{$color-name}
    background-color: rgba($color, 0.25)
    color: lighten($color, 20%)

// layout
for $n in 1..6
  .ui-padding-{$n}
    padding: (0.15rem * $n) (0.3rem * $n)

  .ui-width-{$n}
    width: (3rem * $n)

  .ui-height-{$n}
    height: (2rem * $n)

  .ui-min-width-{$n}
    min-width: (3rem * $n)

// complimentary / additive composition styling
.ui-border
  border: none
  border-bottom: 3px solid $colors.light

.ui-header
  font-family: 'Roboto Condensed', sans-serif
  opacity: 0.9
  font-weight: 300
  padding: 0
  margin: 0 0 1rem

.ui-press
  &:not(:active)
    transition: 0.2s ease-out

  &:active
    transform: translateY(3px)

.ui-press-inline
  @extend .ui-press
  display: inline-block

.ui-raised
  box-shadow: 0px 0px 2px rgba(black, 0.2), 0px 4px 10px rgba(black, 0.4)

  &.ui-press:active
    box-shadow: 0px 0px 2px rgba(black, 0.2), 0px 1px 5px rgba(black, 0.4)

.ui-rounded
  border-radius: 0.2em

.ui-hover
  position: relative

  &::after
    @extend .color-light
    content: ''
    display: block
    position: absolute
    left: 0
    right: 0
    bottom: 0
    height: 2px
    transition: 0.2s transform
    transform: scaleX(0)

  &:hover::after
    transform: scaleX(1)

// elements / components
.ui-link
  @extend .ui-border, .ui-press-inline
  border-width: 2px
  color: lighten($colors.light, 60%)
  text-decoration: none

.ui-field
  margin-bottom: 1em

.ui-input-static
  @extend .ui-padding-2
  color: inherit
  font-family: inherit
  font-size: 0.9em

  &[disabled]
    opacity: 0.5
    cursor: not-allowed

.ui-input
  @extend .ui-input-static, .ui-press-inline, .color-dark, .ui-border
  width: 100%

.ui-button
  @extend .ui-input-static, .ui-press-inline, .color-dark, .ui-rounded, .ui-min-width-1
  border: none
  cursor: pointer

.ui-overlay
  @extend .flex-center-children
  position: absolute
  left: 0
  top: 0
  width: 100vw
  height: 100vh

.ui-overlay-shade
  @extend .ui-fullscreen
  background-color: rgba(black, 0.4)

.ui-overlay-panel
  @extend .color-main, .ui-raised
  width: max-content

for $side in ('left' 'right')
  .ui-overlay-panel-{$side}
    @extend .ui-overlay-panel
    position: absolute
    top: 0
    bottom: 0
    {$side}: 0

.ui-input-icon
  @extend .ui-press
  position: relative

  .ui-icon
    @extend .ui-padding-2
    position: absolute
    top: 0
    left: 0
    opacity: 0.5
    pointer-events: none

  input, textarea
    @extend .ui-input-static, .color-dark, .ui-border
    width: 100%
    padding-left: 2.1rem

.ui-select
  @extend .ui-input, .ui-scroll
  width: 14em
  height: 18em
  padding: 0

  & > a
    display: block
    padding: 0.5em

  .ui-select-active
    @extend .ui-highlight-green

.ui-dropdown
  @extend .ui-input
  padding: 0 !important
  position: relative

  .ui-icon
    float: right
    position: relative
    top: 0.2em
    opacity: 0.5

  .ui-dropdown-head, .ui-dropdown-items > a
    display: block
    padding: 0.3rem 0.6rem

  .ui-dropdown-items
    @extend .color-darker
    z-index: 420

.ui-editor p
  margin-bottom: 0.1em !important

.ui-division-border
  border-bottom: 1px solid darken($colors.dark, 10%)

// root element styles
*
  box-sizing: border-box

:root
  @extend .ui-text

:focus
  outline: none

div
  padding: 0
  margin: 0

p
  margin: 0em 0em 0.8em

h1, h2, h3, h4, h5, h6
  @extend .ui-header

a
  color: inherit
  text-decoration: none

button
  font: inherit
  color: inherit;
  border: none
  outline: none
  padding: 0
  margin: 0

textarea
  resize: none

::-webkit-scrollbar
  width: 8px
  height: 8px

::-webkit-scrollbar-track, ::-webkit-scrollbar-corner
  background-color: darken($colors.dark, 20%)

::-webkit-scrollbar-thumb
  background-color: $colors.light

::-webkit-scrollbar-button
  display: none

::selection
  background: rgba(black, 0.3)
